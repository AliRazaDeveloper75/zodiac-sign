<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PalmAI - Zodiac & Palm Insights</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background: linear-gradient(
          135deg,
          #0f0c29 0%,
          #302b63 50%,
          #24243e 100%
        );
        color: #fff;
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        /* max-width: 1100px; */
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      header {
        text-align: center;
        padding: 30px 20px;
        background: linear-gradient(to right, #8e2de2 0%, #4a00e0 100%);
        position: relative;
        overflow: hidden;
      }

      .logo {
        font-size: 3rem;
        margin-bottom: 10px;
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .tagline {
        font-size: 1.1rem;
        opacity: 0.9;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
      }

      .main-content {
        padding: 30px;
      }

      .step {
        display: none;
        animation: fadeIn 0.5s ease;
      }

      .step.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      h2 {
        margin-bottom: 20px;
        color: #8e2de2;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      h2 i {
        color: #4a00e0;
      }

      .info-box {
        background: rgba(142, 45, 226, 0.1);
        border-left: 4px solid #8e2de2;
        padding: 15px;
        border-radius: 0 10px 10px 0;
        margin-bottom: 25px;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .info-box i {
        color: #8e2de2;
        margin-right: 8px;
      }

      .method-selector {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .method-card {
        background: rgba(255, 255, 255, 0.08);
        padding: 25px;
        border-radius: 15px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .method-card:hover {
        transform: translateY(-5px);
        background: rgba(142, 45, 226, 0.15);
        border-color: #8e2de2;
        box-shadow: 0 10px 20px rgba(142, 45, 226, 0.2);
      }

      .method-card.selected {
        background: rgba(142, 45, 226, 0.2);
        border-color: #8e2de2;
        box-shadow: 0 5px 15px rgba(142, 45, 226, 0.3);
      }

      .method-icon {
        font-size: 3.5rem;
        margin-bottom: 15px;
        color: #4a00e0;
        background: rgba(255, 255, 255, 0.1);
        width: 80px;
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
      }

      .upload-area {
        border: 3px dashed #8e2de2;
        border-radius: 15px;
        padding: 40px 20px;
        text-align: center;
        margin-bottom: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: rgba(142, 45, 226, 0.05);
      }

      .upload-area:hover {
        background: rgba(142, 45, 226, 0.1);
        border-color: #4a00e0;
      }

      .upload-area i {
        font-size: 4rem;
        margin-bottom: 15px;
        color: #8e2de2;
      }

      #preview {
        max-width: 100%;
        max-height: 300px;
        border-radius: 10px;
        margin-top: 20px;
        display: none;
        border: 2px solid rgba(142, 45, 226, 0.3);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .dob-inputs {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .input-group {
        position: relative;
      }

      label {
        display: block;
        margin-bottom: 8px;
        color: #b8b8d1;
        font-weight: 500;
        font-size: 0.95rem;
      }

      select,
      input {
        width: 100%;
        padding: 16px;
        border-radius: 12px;
        border: 2px solid rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.08);
        color: white;
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      select:focus,
      input:focus {
        outline: none;
        border-color: #8e2de2;
        box-shadow: 0 0 0 3px rgba(142, 45, 226, 0.2);
      }

      select option {
        background: #302b63;
        color: white;
        padding: 10px;
      }

      .btn {
        background: linear-gradient(to right, #8e2de2 0%, #4a00e0 100%);
        color: white;
        border: none;
        padding: 16px 40px;
        border-radius: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        position: relative;
        overflow: hidden;
      }

      .btn::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: 0.5s;
      }

      .btn:hover::after {
        left: 100%;
      }

      .btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(142, 45, 226, 0.4);
      }

      .btn-secondary {
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.2);
      }

      .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.2);
        border-color: rgba(255, 255, 255, 0.3);
        box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
      }

      .button-group {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .result-card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 15px;
        padding: 30px;
        margin-top: 20px;
        border-left: 5px solid #8e2de2;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .zodiac-header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 25px;
        flex-wrap: wrap;
      }

      .zodiac-icon {
        font-size: 4.5rem;
        color: #ffd700;
        text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      .zodiac-name {
        font-size: 2.8rem;
        font-weight: bold;
        background: linear-gradient(to right, #ffd700, #ffaa00);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .source-badge {
        display: inline-block;
        background: rgba(74, 0, 224, 0.3);
        padding: 8px 20px;
        border-radius: 25px;
        font-size: 0.9rem;
        margin-bottom: 20px;
        border: 1px solid rgba(74, 0, 224, 0.5);
      }

      .dates-info {
        color: #b8b8d1;
        font-size: 0.95rem;
        margin-top: 5px;
      }

      .palm-insights {
        background: rgba(255, 215, 0, 0.1);
        border-left: 4px solid #ffd700;
        padding: 20px;
        border-radius: 0 10px 10px 0;
        margin: 25px 0;
      }

      .palm-insights h3 {
        color: #ffd700;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .trait-item {
        background: rgba(255, 255, 255, 0.05);
        padding: 18px;
        border-radius: 12px;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 15px;
        transition: transform 0.3s ease;
      }

      .trait-item:hover {
        transform: translateX(10px);
        background: rgba(142, 45, 226, 0.1);
      }

      .trait-item i {
        color: #8e2de2;
        font-size: 1.2rem;
        min-width: 24px;
      }

      .recommendation {
        background: linear-gradient(
          to right,
          rgba(142, 45, 226, 0.15),
          rgba(74, 0, 224, 0.15)
        );
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 18px;
        display: flex;
        gap: 20px;
        align-items: flex-start;
        transition: transform 0.3s ease;
      }

      .recommendation:hover {
        transform: translateX(10px);
      }

      .rec-number {
        background: linear-gradient(135deg, #8e2de2, #4a00e0);
        color: white;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.1rem;
        flex-shrink: 0;
        box-shadow: 0 4px 10px rgba(142, 45, 226, 0.3);
      }

      .loading {
        text-align: center;
        padding: 60px 20px;
      }

      .spinner {
        width: 80px;
        height: 80px;
        border: 6px solid rgba(255, 255, 255, 0.1);
        border-top-color: #8e2de2;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 30px;
        position: relative;
      }

      .spinner::after {
        content: "";
        position: absolute;
        top: -6px;
        left: -6px;
        right: -6px;
        bottom: -6px;
        border: 6px solid transparent;
        border-top-color: #4a00e0;
        border-radius: 50%;
        animation: spin 1.5s linear infinite reverse;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .loading-text {
        margin-top: 20px;
        color: #b8b8d1;
        font-size: 1.1rem;
      }

      .error {
        background: rgba(255, 50, 50, 0.1);
        border-left: 4px solid #ff3232;
        padding: 15px;
        border-radius: 0 10px 10px 0;
        margin: 20px 0;
        color: #ff9999;
      }

      footer {
        text-align: center;
        padding: 25px 20px;
        margin-top: 30px;
        color: #b8b8d1;
        font-size: 0.9rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        line-height: 1.6;
      }

      .disclaimer {
        font-size: 0.8rem;
        opacity: 0.7;
        margin-top: 10px;
        font-style: italic;
      }

      @media (max-width: 768px) {
        .container {
          border-radius: 15px;
        }

        .method-selector,
        .dob-inputs {
          grid-template-columns: 1fr;
        }

        .zodiac-header {
          flex-direction: column;
          text-align: center;
          gap: 15px;
        }

        .zodiac-name {
          font-size: 2.2rem;
        }

        .button-group {
          flex-direction: column;
        }

        .btn {
          width: 100%;
          justify-content: center;
        }
      }

      @media (max-width: 480px) {
        h1 {
          font-size: 2rem;
        }

        .main-content {
          padding: 20px;
        }

        .method-card,
        .result-card {
          padding: 20px;
        }

        .upload-area {
          padding: 30px 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <div class="logo">üîÆ</div>
        <h1>PalmAI</h1>
        <p class="tagline">
          Upload your hand photo for palm insights + Enter DOB for accurate
          zodiac sign, personality traits, and personalized recommendations
        </p>
      </header>

      <div class="main-content">
        <!-- Step 1: Welcome -->
        <div class="step active" id="step1">
          <h2><i class="fas fa-gem"></i> Welcome to PalmAI</h2>
          <div class="info-box">
            <i class="fas fa-info-circle"></i>
            <strong>Important:</strong> Your zodiac sign is determined
            <strong>only</strong> by your Date of Birth. Hand photo analysis
            provides additional palm reading insights based on AI analysis.
          </div>

          <div class="method-selector">
            <div class="method-card" data-method="both">
              <div class="method-icon">‚ú®</div>
              <h3>Complete Analysis</h3>
              <p>Upload hand photo + Enter DOB for full insights</p>
              <small style="margin-top: 10px; color: #b8b8d1; display: block">
                <i class="fas fa-star"></i> Recommended
              </small>
            </div>

            <div class="method-card" data-method="dob">
              <div class="method-icon">üìÖ</div>
              <h3>Zodiac Only</h3>
              <p>Just enter Date of Birth for zodiac sign</p>
            </div>

            <div class="method-card" data-method="photo">
              <div class="method-icon">üì∏</div>
              <h3>Palm Reading Only</h3>
              <p>Only upload hand photo for palm insights</p>
            </div>
          </div>

          <div class="button-group">
            <button class="btn" id="nextStep1">
              Get Started <i class="fas fa-arrow-right"></i>
            </button>
          </div>
        </div>

        <!-- Step 2: Photo Upload -->
        <div class="step" id="step2">
          <h2><i class="fas fa-hand-paper"></i> Hand Photo Upload</h2>
          <div class="info-box">
            <i class="fas fa-lightbulb"></i>
            <strong>Tips for best results:</strong> Clear photo of palm, good
            lighting, fingers slightly spread, show entire palm including wrist
          </div>

          <div class="upload-area" id="dropArea">
            <i class="fas fa-hand-paper"></i>
            <h3>Upload Your Hand Photo</h3>
            <p>Drag & drop or click to browse</p>
            <p style="font-size: 0.9rem; margin-top: 10px; color: #b8b8d1">
              Supports JPG, PNG, WEBP (Max 5MB)
            </p>
            <input
              type="file"
              id="fileInput"
              accept="image/*"
              style="display: none"
            />
          </div>

          <img id="preview" alt="Preview" />

          <div class="button-group">
            <button class="btn btn-secondary" id="backStep2">
              <i class="fas fa-arrow-left"></i> Back
            </button>
            <button class="btn" id="skipPhoto">
              Skip to DOB <i class="fas fa-calendar-alt"></i>
            </button>
            <button class="btn" id="nextStep2" disabled>
              Continue to DOB <i class="fas fa-arrow-right"></i>
            </button>
          </div>
        </div>

        <!-- Step 3: DOB Entry -->
        <div class="step" id="step3">
          <h2><i class="fas fa-birthday-cake"></i> Enter Date of Birth</h2>
          <div class="info-box">
            <i class="fas fa-exclamation-triangle"></i>
            <strong>Required for zodiac sign:</strong> Your zodiac sign is
            calculated <strong>only</strong> from your Date of Birth
          </div>

          <div class="dob-inputs">
            <div class="input-group">
              <label for="month"
                ><i class="fas fa-calendar-alt"></i> Month</label
              >
              <select id="month">
                <option value="">Select Month</option>
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
              </select>
            </div>

            <div class="input-group">
              <label for="day"><i class="fas fa-calendar-day"></i> Day</label>
              <select id="day">
                <option value="">Select Day</option>
                <!-- Days populated by JS -->
              </select>
            </div>

            <div class="input-group">
              <label for="year"
                ><i class="fas fa-calendar-star"></i> Year (Optional)</label
              >
              <input
                type="number"
                id="year"
                min="1900"
                max="2024"
                placeholder="e.g., 1990"
              />
              <small style="color: #b8b8d1; margin-top: 5px; display: block">
                For Chinese zodiac & age-specific insights
              </small>
            </div>
          </div>

          <div class="button-group">
            <button class="btn btn-secondary" id="backStep3">
              <i class="fas fa-arrow-left"></i> Back
            </button>
            <button class="btn" id="nextStep3" disabled>
              Get Your Insights <i class="fas fa-stars"></i>
            </button>
          </div>
        </div>

        <!-- Step 4: Loading -->
        <div class="step" id="step4">
          <div class="loading">
            <div class="spinner"></div>
            <h2>Analyzing Your Information</h2>
            <p class="loading-text">
              <span id="loadingText">Calculating your zodiac sign...</span>
            </p>
          </div>
        </div>

        <!-- Step 5: Results -->
        <div class="step" id="step5">
          <h2><i class="fas fa-chart-line"></i> Your Personalized Insights</h2>

          <div class="result-card">
            <!-- Zodiac Section -->
            <div class="zodiac-header">
              <div class="zodiac-icon" id="zodiacSymbol">‚ôå</div>
              <div>
                <div class="zodiac-name" id="zodiacName">Leo</div>
                <div class="dates-info" id="zodiacDates">
                  July 23 ‚Äì August 22
                </div>
              </div>
            </div>

            <div class="source-badge" id="sourceBadge">
              <i class="fas fa-calculator"></i> Calculated from Date of Birth
            </div>

            <!-- Palm Insights Section (only if photo uploaded) -->
            <div id="palmInsightsSection" style="display: none">
              <div class="palm-insights">
                <h3>
                  <i class="fas fa-hand-sparkles"></i> Palm Reading Insights
                </h3>
                <div id="palmInsightsText">
                  <!-- Palm insights will be populated here -->
                </div>
              </div>
            </div>

            <!-- Zodiac Traits -->
            <h3 style="margin-top: 25px">
              <i class="fas fa-user-astronaut"></i> Zodiac Personality Traits
            </h3>
            <div id="traitsList">
              <!-- Traits populated by JS -->
            </div>

            <!-- Recommendations -->
            <h3 style="margin-top: 25px">
              <i class="fas fa-bullseye"></i> Personalized Recommendations
            </h3>
            <div id="recommendationsList">
              <!-- Recommendations populated by JS -->
            </div>
          </div>

          <div class="button-group">
            <button class="btn btn-secondary" id="restartBtn">
              <i class="fas fa-redo"></i> Start Over
            </button>
            <button class="btn" id="shareBtn">
              <i class="fas fa-share-alt"></i> Share Results
            </button>
          </div>
        </div>
      </div>

      <footer>
        <p>
          <i class="fas fa-star-and-crescent"></i> PalmAI - AI-powered Palm &
          Zodiac Insights
        </p>
        <p class="disclaimer">
          For entertainment purposes only. Palm reading insights are
          AI-generated suggestions. Zodiac signs are calculated based on Western
          astrology dates.
        </p>
      </footer>
    </div>

    <script>
      // Zodiac data with dates
      const zodiacData = {
        Aries: {
          symbol: "‚ôà",
          dates: "March 21 ‚Äì April 19",
          element: "Fire",
          ruler: "Mars",
          traits: [
            "Courageous and determined",
            "Confident and enthusiastic",
            "Optimistic and honest",
            "Passionate and natural leader",
            "Impulsive and impatient",
          ],
          recommendations: [
            "Pursue leadership roles in your career",
            "Channel energy into physical activities",
            "Practice patience in relationships",
            "Set bold but achievable goals",
            "Balance spontaneity with planning",
          ],
          palmKeywords: [
            "strong lifeline",
            "dynamic energy",
            "leadership marks",
          ],
        },
        Taurus: {
          symbol: "‚ôâ",
          dates: "April 20 ‚Äì May 20",
          element: "Earth",
          ruler: "Venus",
          traits: [
            "Reliable and patient",
            "Practical and devoted",
            "Responsible and stable",
            "Loves comfort and beauty",
            "Stubborn and resistant to change",
          ],
          recommendations: [
            "Invest in stable, long-term opportunities",
            "Create comfortable living spaces",
            "Enjoy nature and sensory experiences",
            "Build strong financial foundations",
            "Practice flexibility",
          ],
          palmKeywords: [
            "stable hand shape",
            "strong practical sense",
            "sensory awareness",
          ],
        },
        Gemini: {
          symbol: "‚ôä",
          dates: "May 21 ‚Äì June 20",
          element: "Air",
          ruler: "Mercury",
          traits: [
            "Versatile and expressive",
            "Curious and affectionate",
            "Quick-witted and energetic",
            "Adaptable and social",
            "Inconsistent and nervous",
          ],
          recommendations: [
            "Explore communication-based careers",
            "Learn new languages or skills",
            "Network and socialize regularly",
            "Keep finances diversified",
            "Practice focus techniques",
          ],
          palmKeywords: [
            "multiple interests",
            "communication lines",
            "flexible thinking",
          ],
        },
        Cancer: {
          symbol: "‚ôã",
          dates: "June 21 ‚Äì July 22",
          element: "Water",
          ruler: "Moon",
          traits: [
            "Tenacious and loyal",
            "Emotional and sympathetic",
            "Persuasive and intuitive",
            "Protective and compassionate",
            "Moody and oversensitive",
          ],
          recommendations: [
            "Nurture close relationships",
            "Create cozy home environments",
            "Trust intuition in decisions",
            "Save for family security",
            "Practice emotional balance",
          ],
          palmKeywords: [
            "emotional depth",
            "nurturing nature",
            "intuitive lines",
          ],
        },
        Leo: {
          symbol: "‚ôå",
          dates: "July 23 ‚Äì August 22",
          element: "Fire",
          ruler: "Sun",
          traits: [
            "Creative and passionate",
            "Generous and warm-hearted",
            "Cheerful and humorous",
            "Natural leader and confident",
            "Arrogant and attention-seeking",
          ],
          recommendations: [
            "Express yourself creatively",
            "Take on leadership roles",
            "Practice generosity in relationships",
            "Invest in confident ventures",
            "Balance ego with humility",
          ],
          palmKeywords: [
            "creative energy",
            "leadership potential",
            "vitality signs",
          ],
        },
        Virgo: {
          symbol: "‚ôç",
          dates: "August 23 ‚Äì September 22",
          element: "Earth",
          ruler: "Mercury",
          traits: [
            "Loyal and analytical",
            "Kind and hardworking",
            "Practical and diligent",
            "Intelligent and meticulous",
            "Overcritical and worrisome",
          ],
          recommendations: [
            "Organize life and workspace",
            "Focus on health and wellness",
            "Use analytical skills in career",
            "Create detailed financial plans",
            "Practice self-compassion",
          ],
          palmKeywords: [
            "analytical mind",
            "health focus",
            "practical approach",
          ],
        },
        Libra: {
          symbol: "‚ôé",
          dates: "September 23 ‚Äì October 22",
          element: "Air",
          ruler: "Venus",
          traits: [
            "Cooperative and diplomatic",
            "Gracious and fair-minded",
            "Social and idealistic",
            "Charming and peaceful",
            "Indecisive and avoids conflict",
          ],
          recommendations: [
            "Seek balance in all areas",
            "Build harmonious relationships",
            "Pursue careers in law or arts",
            "Make joint financial decisions",
            "Practice decisive action",
          ],
          palmKeywords: [
            "balance seeking",
            "relationship focus",
            "aesthetic sense",
          ],
        },
        Scorpio: {
          symbol: "‚ôè",
          dates: "October 23 ‚Äì November 21",
          element: "Water",
          ruler: "Pluto",
          traits: [
            "Brave and passionate",
            "Stubborn and loyal",
            "Resourceful and observant",
            "Determined and emotional",
            "Jealous and secretive",
          ],
          recommendations: [
            "Embrace transformation",
            "Deepen intimate connections",
            "Pursue investigative fields",
            "Invest in research opportunities",
            "Practice openness",
          ],
          palmKeywords: [
            "intense energy",
            "transformation signs",
            "depth perception",
          ],
        },
        Sagittarius: {
          symbol: "‚ôê",
          dates: "November 22 ‚Äì December 21",
          element: "Fire",
          ruler: "Jupiter",
          traits: [
            "Generous and idealistic",
            "Humorous and open-minded",
            "Energetic and adventurous",
            "Honest and philosophical",
            "Tactless and irresponsible",
          ],
          recommendations: [
            "Travel and explore cultures",
            "Pursue higher education",
            "Share knowledge through teaching",
            "Invest in international opportunities",
            "Practice reliability",
          ],
          palmKeywords: [
            "adventure spirit",
            "philosophical mind",
            "expansion energy",
          ],
        },
        Capricorn: {
          symbol: "‚ôë",
          dates: "December 22 ‚Äì January 19",
          element: "Earth",
          ruler: "Saturn",
          traits: [
            "Responsible and disciplined",
            "Self-controlled and managerial",
            "Ambitious and diligent",
            "Patient and humorous",
            "Pessimistic and unforgiving",
          ],
          recommendations: [
            "Set long-term career goals",
            "Build stable foundations",
            "Practice patience in endeavors",
            "Invest in real estate",
            "Balance work with relaxation",
          ],
          palmKeywords: ["ambitious drive", "practical wisdom", "career focus"],
        },
        Aquarius: {
          symbol: "‚ôí",
          dates: "January 20 ‚Äì February 18",
          element: "Air",
          ruler: "Uranus",
          traits: [
            "Progressive and original",
            "Independent and humanitarian",
            "Inventive and open-minded",
            "Friendly and loyal",
            "Emotionally detached",
          ],
          recommendations: [
            "Engage in community service",
            "Innovate in technology fields",
            "Build diverse social networks",
            "Invest in innovative tech",
            "Practice emotional connection",
          ],
          palmKeywords: [
            "innovative thinking",
            "community focus",
            "unique perspective",
          ],
        },
        Pisces: {
          symbol: "‚ôì",
          dates: "February 19 ‚Äì March 20",
          element: "Water",
          ruler: "Neptune",
          traits: [
            "Compassionate and artistic",
            "Intuitive and gentle",
            "Wise and musical",
            "Selfless and empathetic",
            "Escapist and overly trusting",
          ],
          recommendations: [
            "Express through arts",
            "Practice meditation",
            "Help through service",
            "Invest in creative industries",
            "Practice groundedness",
          ],
          palmKeywords: [
            "creative intuition",
            "empathic nature",
            "spiritual connection",
          ],
        },
      };

      // Palm reading insights database
      const palmInsights = {
        lineTypes: [
          "Your heart line suggests emotional depth and capacity for meaningful relationships.",
          "A clear head line indicates strong analytical abilities and logical thinking.",
          "Your life line shows vitality and energy for pursuing your goals.",
          "The fate line suggests a strong sense of destiny and purpose in your career path.",
          "Multiple bracelets on the wrist indicate good health and vitality.",
        ],
        mountTypes: [
          "The Jupiter mount is prominent, suggesting leadership qualities and ambition.",
          "A developed Saturn mount shows discipline and responsibility.",
          "The Apollo mount indicates creativity and artistic potential.",
          "A strong Mercury mount suggests communication skills and business acumen.",
        ],
        shapeTypes: [
          "Your hand shape suggests a practical and grounded approach to life.",
          "The elemental balance in your hand shows good harmony between different aspects of life.",
          "Finger proportions indicate a balance between intuition and logic.",
        ],
      };

      // State management
      let currentStep = 1;
      let selectedMethod = "";
      let uploadedPhoto = false;
      let dobSign = null;
      let palmAnalysis = null;

      // DOM Elements
      const steps = document.querySelectorAll(".step");
      const methodCards = document.querySelectorAll(".method-card");
      const fileInput = document.getElementById("fileInput");
      const dropArea = document.getElementById("dropArea");
      const preview = document.getElementById("preview");
      const daySelect = document.getElementById("day");
      const monthSelect = document.getElementById("month");
      const yearInput = document.getElementById("year");
      const loadingText = document.getElementById("loadingText");
      const palmInsightsSection = document.getElementById(
        "palmInsightsSection",
      );

      // Initialize days dropdown
      function populateDays() {
        daySelect.innerHTML = '<option value="">Select Day</option>';
        for (let i = 1; i <= 31; i++) {
          daySelect.innerHTML += `<option value="${i}">${i}</option>`;
        }
      }

      // Step navigation
      function showStep(stepNumber) {
        steps.forEach((step) => step.classList.remove("active"));
        document.getElementById(`step${stepNumber}`).classList.add("active");
        currentStep = stepNumber;

        if (yearInput) {
          yearInput.max = new Date().getFullYear();
          yearInput.value = "";
        }
      }

      // Method selection
      methodCards.forEach((card) => {
        card.addEventListener("click", () => {
          methodCards.forEach((c) => c.classList.remove("selected"));
          card.classList.add("selected");
          selectedMethod = card.dataset.method;
        });
      });

      // File upload handling
      dropArea.addEventListener("click", () => fileInput.click());

      fileInput.addEventListener("change", function (e) {
        handleFile(e.target.files[0]);
      });

      // Drag and drop
      ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
        dropArea.addEventListener(eventName, preventDefaults, false);
      });

      function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
      }

      ["dragenter", "dragover"].forEach((eventName) => {
        dropArea.addEventListener(eventName, highlight, false);
      });

      ["dragleave", "drop"].forEach((eventName) => {
        dropArea.addEventListener(eventName, unhighlight, false);
      });

      function highlight() {
        dropArea.style.background = "rgba(142, 45, 226, 0.15)";
      }

      function unhighlight() {
        dropArea.style.background = "rgba(142, 45, 226, 0.05)";
      }

      dropArea.addEventListener("drop", function (e) {
        const dt = e.dataTransfer;
        const file = dt.files[0];
        handleFile(file);
      });

      function handleFile(file) {
        if (file && file.type.startsWith("image/")) {
          if (file.size > 5 * 1024 * 1024) {
            alert("File size must be less than 5MB");
            return;
          }

          const reader = new FileReader();
          reader.onload = function (e) {
            preview.src = e.target.result;
            preview.style.display = "block";
            document.getElementById("nextStep2").disabled = false;
            uploadedPhoto = true;

            // Generate random palm insights (simulated AI analysis)
            generatePalmInsights();
          };
          reader.readAsDataURL(file);
        } else {
          alert("Please upload an image file (JPG, PNG, WEBP)");
        }
      }

      // Generate simulated palm reading insights
      function generatePalmInsights() {
        const lineInsight =
          palmInsights.lineTypes[
            Math.floor(Math.random() * palmInsights.lineTypes.length)
          ];
        const mountInsight =
          palmInsights.mountTypes[
            Math.floor(Math.random() * palmInsights.mountTypes.length)
          ];
        const shapeInsight =
          palmInsights.shapeTypes[
            Math.floor(Math.random() * palmInsights.shapeTypes.length)
          ];

        palmAnalysis = {
          lines: lineInsight,
          mounts: mountInsight,
          shape: shapeInsight,
        };
      }

      // Get zodiac sign from date (only source for zodiac sign)
      function getZodiacSign(month, day) {
        const m = parseInt(month);
        const d = parseInt(day);

        // Capricorn (December 22 - January 19)
        if ((m === 12 && d >= 22) || (m === 1 && d <= 19)) {
          return "Capricorn";
        }
        // Aquarius (January 20 - February 18)
        else if ((m === 1 && d >= 20) || (m === 2 && d <= 18)) {
          return "Aquarius";
        }
        // Pisces (February 19 - March 20)
        else if ((m === 2 && d >= 19) || (m === 3 && d <= 20)) {
          return "Pisces";
        }
        // Aries (March 21 - April 19)
        else if ((m === 3 && d >= 21) || (m === 4 && d <= 19)) {
          return "Aries";
        }
        // Taurus (April 20 - May 20)
        else if ((m === 4 && d >= 20) || (m === 5 && d <= 20)) {
          return "Taurus";
        }
        // Gemini (May 21 - June 20)
        else if ((m === 5 && d >= 21) || (m === 6 && d <= 20)) {
          return "Gemini";
        }
        // Cancer (June 21 - July 22)
        else if ((m === 6 && d >= 21) || (m === 7 && d <= 22)) {
          return "Cancer";
        }
        // Leo (July 23 - August 22)
        else if ((m === 7 && d >= 23) || (m === 8 && d <= 22)) {
          return "Leo";
        }
        // Virgo (August 23 - September 22)
        else if ((m === 8 && d >= 23) || (m === 9 && d <= 22)) {
          return "Virgo";
        }
        // Libra (September 23 - October 22)
        else if ((m === 9 && d >= 23) || (m === 10 && d <= 22)) {
          return "Libra";
        }
        // Scorpio (October 23 - November 21)
        else if ((m === 10 && d >= 23) || (m === 11 && d <= 21)) {
          return "Scorpio";
        }
        // Sagittarius (November 22 - December 21)
        else if ((m === 11 && d >= 22) || (m === 12 && d <= 21)) {
          return "Sagittarius";
        }

        return null;
      }

      // Validate DOB
      function validateDOB() {
        const month = parseInt(monthSelect.value);
        const day = parseInt(daySelect.value);

        if (!month || !day) return false;

        // Validate day based on month
        const daysInMonth = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        if (day < 1 || day > daysInMonth[month - 1]) return false;

        return true;
      }

      // Display results
      function displayResults() {
        const zodiac = zodiacData[dobSign];

        // Update zodiac information
        document.getElementById("zodiacSymbol").textContent = zodiac.symbol;
        document.getElementById("zodiacName").textContent = dobSign;
        document.getElementById("zodiacDates").textContent = zodiac.dates;

        // Display palm insights if photo was uploaded
        if (uploadedPhoto && palmAnalysis && selectedMethod !== "dob") {
          palmInsightsSection.style.display = "block";
          document.getElementById("palmInsightsText").innerHTML = `
                    <p>${palmAnalysis.lines}</p>
                    <p>${palmAnalysis.mounts}</p>
                    <p>${palmAnalysis.shape}</p>
                    <p style="margin-top: 10px; font-style: italic; color: #b8b8d1;">
                        <i class="fas fa-robot"></i> AI-generated palm reading insights
                    </p>
                `;
        } else {
          palmInsightsSection.style.display = "none";
        }

        // Display traits
        const traitsList = document.getElementById("traitsList");
        traitsList.innerHTML = "";
        zodiac.traits.forEach((trait) => {
          traitsList.innerHTML += `
                    <div class="trait-item">
                        <i class="fas fa-star"></i>
                        <span>${trait}</span>
                    </div>
                `;
        });

        // Display recommendations
        const recList = document.getElementById("recommendationsList");
        recList.innerHTML = "";
        zodiac.recommendations.forEach((rec, index) => {
          recList.innerHTML += `
                    <div class="recommendation">
                        <div class="rec-number">${index + 1}</div>
                        <div>${rec}</div>
                    </div>
                `;
        });
      }

      // Simulated loading with progress
      function simulateLoading(callback) {
        let progress = 0;
        const messages = [
          "Calculating your zodiac sign...",
          "Analyzing birth chart patterns...",
          "Generating personality insights...",
          "Creating personalized recommendations...",
          "Finalizing your reading...",
        ];

        const interval = setInterval(() => {
          progress += 20;
          const messageIndex = Math.min(
            Math.floor(progress / 20),
            messages.length - 1,
          );
          loadingText.textContent = messages[messageIndex];

          if (progress >= 100) {
            clearInterval(interval);
            setTimeout(callback, 500);
          }
        }, 500);
      }

      // Event Listeners
      document.getElementById("nextStep1").addEventListener("click", () => {
        if (!selectedMethod) {
          alert("Please select an analysis method first!");
          return;
        }

        if (selectedMethod === "photo") {
          // Only palm reading
          showStep(2);
        } else if (selectedMethod === "dob") {
          // Only zodiac
          showStep(3);
        } else {
          // Both - start with photo
          showStep(2);
        }
      });

      document
        .getElementById("backStep2")
        .addEventListener("click", () => showStep(1));

      document.getElementById("skipPhoto").addEventListener("click", () => {
        uploadedPhoto = false;
        palmAnalysis = null;
        showStep(3);
      });

      document.getElementById("nextStep2").addEventListener("click", () => {
        showStep(3);
      });

      document.getElementById("backStep3").addEventListener("click", () => {
        if (selectedMethod === "both" && uploadedPhoto) {
          showStep(2);
        } else {
          showStep(1);
        }
      });

      // Validate DOB inputs
      monthSelect.addEventListener("change", function () {
        if (this.value) {
          document.getElementById("nextStep3").disabled = false;
        }
      });

      daySelect.addEventListener("change", function () {
        if (this.value && monthSelect.value) {
          document.getElementById("nextStep3").disabled = false;
        }
      });

      document.getElementById("nextStep3").addEventListener("click", () => {
        if (!validateDOB()) {
          alert("Please select a valid month and day");
          return;
        }

        const month = parseInt(monthSelect.value);
        const day = parseInt(daySelect.value);

        dobSign = getZodiacSign(month, day);

        if (!dobSign) {
          alert("Unable to determine zodiac sign. Please check your date.");
          return;
        }

        showStep(4);

        // Simulate loading with progress
        simulateLoading(() => {
          showStep(5);
          displayResults();
        });
      });

      // Restart button
      document.getElementById("restartBtn").addEventListener("click", () => {
        // Reset state
        currentStep = 1;
        selectedMethod = "";
        uploadedPhoto = false;
        dobSign = null;
        palmAnalysis = null;

        // Reset UI
        methodCards.forEach((card) => card.classList.remove("selected"));
        preview.style.display = "none";
        preview.src = "";
        fileInput.value = "";
        monthSelect.value = "";
        daySelect.value = "";
        if (yearInput) yearInput.value = "";
        document.getElementById("nextStep2").disabled = true;
        document.getElementById("nextStep3").disabled = true;

        showStep(1);
      });

      // Share button
      document.getElementById("shareBtn").addEventListener("click", () => {
        const zodiac = zodiacData[dobSign];

        const shareText = `My PalmAI Reading ‚ú®

Zodiac: ${dobSign} ${zodiac.symbol}
Dates: ${zodiac.dates}

Key Trait: ${zodiac.traits[0]}
Top Recommendation: ${zodiac.recommendations[0]}

${uploadedPhoto ? "Includes AI palm reading insights!" : ""}

Discover yours at PalmAI!`;

        if (navigator.share) {
          navigator.share({
            title: "My PalmAI Reading",
            text: shareText,
            url: window.location.href,
          });
        } else {
          navigator.clipboard.writeText(shareText).then(() => {
            alert("Results copied to clipboard! Share with friends!");
          });
        }
      });

      // Initialize
      populateDays();
      showStep(1);

      // Set placeholder for year input
      if (yearInput) {
        const currentYear = new Date().getFullYear();
        yearInput.placeholder = `e.g., ${currentYear - 30}`;
      }
    </script>
  </body>
</html>
